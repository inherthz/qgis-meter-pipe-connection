# qgis-meter-pipe-connection
ปลั๊กอิน QGIS ที่จะช่วยเชื่อมต่อ METER กับ PIPE_ID ที่ที่อยู่ใกล้กันโดยอัตโนมัติ และสร้างเส้นเชื่อมต่อ "Spider" ที่พิจารณาถึงขอบเขตถนนและข้อจำกัดของโครงสร้างด้านสารธารณูปโภค

# เครื่องมือเชื่อมต่อมิเตอร์กับท่อใน QGIS

ปลั๊กอิน QGIS ที่เชื่อมต่อจุดมิเตอร์น้ำกับท่อที่เหมาะสมที่อยู่ใกล้เคียงโดยอัตโนมัติ สร้างเส้นเชื่อมต่อ "สไปเดอร์" ที่คำนึงถึงขอบเขตถนนและข้อจำกัดของโครงสร้างพื้นฐาน

![ภาพหน้าจอปลั๊กอิน](https://via.placeholder.com/800x450)

## คุณสมบัติ

- **การจับคู่เชิงพื้นที่อัจฉริยะ**: เชื่อมต่อมิเตอร์กับท่อที่เหมาะสมที่อยู่ใกล้ที่สุด
- **การรับรู้ขอบเขตถนน**: ตรวจสอบให้แน่ใจว่าการเชื่อมต่อไม่ข้ามถนนอย่างไม่เหมาะสม
- **การเชื่อมต่อแบบโหนด**: ให้ความสำคัญกับการเชื่อมต่อกับจุดปลายท่อหรือโหนดเมื่อมี
- **พารามิเตอร์ระยะทางที่ปรับแต่งได้**: กำหนดระยะการเชื่อมต่อสูงสุดและค่าพึงประสงค์ของโหนด
- **การแสดงผลที่แตกต่างกัน**: การแสดงผลด้วยรหัสสีที่แสดงการเชื่อมต่อโหนดและเซกเมนต์
- **การถ่ายโอนคุณลักษณะ**: อัปเดตข้อมูลมิเตอร์ด้วยรหัส ID ท่อที่เชื่อมต่อโดยอัตโนมัติ
- **ไฟล์ GeoPackage**: สร้างไฟล์ผลลัพธ์ที่เป็นมาตรฐานและพกพาได้

## การติดตั้ง

1. ดาวน์โหลด repository นี้เป็นไฟล์ ZIP
2. ใน QGIS ไปที่ **ปลั๊กอิน → จัดการและติดตั้งปลั๊กอิน → ติดตั้งจาก ZIP**
3. เลือกไฟล์ ZIP ที่ดาวน์โหลดและคลิก **ติดตั้งปลั๊กอิน**
4. ปลั๊กอินจะปรากฏในเมนู **ปลั๊กอิน** และ/หรือแถบเครื่องมือ

## วิธีใช้งาน

1. เปิดปลั๊กอินจากเมนูปลั๊กอินหรือแถบเครื่องมือ
2. เลือกชั้นข้อมูลนำเข้า:
   - **ชั้นข้อมูลมิเตอร์**: ชั้นข้อมูลจุดที่มีมิเตอร์น้ำ
   - **ชั้นข้อมูลท่อ**: ชั้นข้อมูลเส้นที่แสดงเครือข่ายท่อ
   - **ชั้นข้อมูลโหนด**: (ตัวเลือก) ชั้นข้อมูลจุดที่มีโหนด/จุดเชื่อมต่อท่อ
   - **ชั้นข้อมูลถนน**: ชั้นข้อมูลเส้นหรือพื้นที่ของถนน
3. กำหนดค่าการตั้งค่าผลลัพธ์:
   - **เส้นทางไฟล์ผลลัพธ์**: ตำแหน่งที่จะบันทึกเส้นการเชื่อมต่อ
   - **ระยะการเชื่อมต่อสูงสุด**: ระยะทางที่จะค้นหาการเชื่อมต่อที่เป็นไปได้
   - **การตั้งค่าลำดับความสำคัญของโหนด**: ต้องการเชื่อมต่อกับโหนด/จุดปลายหรือไม่
4. คลิก **เรียกใช้สคริปต์** เพื่อสร้างการเชื่อมต่อ

## โครงสร้างข้อมูลที่จำเป็น

ปลั๊กอินทำงานกับชั้นข้อมูล GIS มาตรฐานแต่คาดหวัง:

- **ชั้นข้อมูลมิเตอร์**: รูปทรงเรขาคณิตแบบจุดพร้อมฟิลด์ "CUSTCODE" ที่เป็นตัวเลือก (จะถูกสร้างขึ้นหากไม่มี)
- **ชั้นข้อมูลท่อ**: รูปทรงเรขาคณิตแบบเส้นพร้อมฟิลด์ "PIPE_ID"
- **ชั้นข้อมูลถนน**: รูปทรงเรขาคณิตแบบเส้นหรือพื้นที่ของเครือข่ายถนน
- **ชั้นข้อมูลโหนด**: (ตัวเลือก) รูปทรงเรขาคณิตแบบจุดของโหนดท่อหรือจุดเชื่อมต่อ

## ผลลัพธ์

ปลั๊กอินสร้าง:
1. GeoPackage ที่มีรูปทรงเรขาคณิตแบบเส้นที่แสดงการเชื่อมต่อจากมิเตอร์ไปยังท่อ
2. ชั้นข้อมูลมิเตอร์ที่อัปเดตด้วยฟิลด์ "PIPE_ID" ที่มีข้อมูล
3. สถิติการเชื่อมต่อที่แสดงในแถบข้อความ QGIS

เส้นการเชื่อมต่อถูกจัดหมวดหมู่ตามประเภท:
- **เส้นสีเขียว**: การเชื่อมต่อกับโหนดท่อ/จุดปลาย
- **เส้นสีแดง**: การเชื่อมต่อกับเซกเมนต์ท่อ

## กรณีการใช้งาน

- การจัดการเครือข่ายสาธารณูปโภคน้ำ
- การตรวจสอบการเชื่อมต่อลูกค้า
- การวางแผนและบำรุงรักษาโครงสร้างพื้นฐาน
- การวิเคราะห์พื้นที่บริการ

## ความต้องการ

- QGIS 3.10 หรือใหม่กว่า
- ชั้นข้อมูลเวกเตอร์พื้นฐาน (มิเตอร์, ท่อ, ถนน)

## ลิขสิทธิ์

โครงการนี้เผยแพร่ภายใต้ [MIT License](LICENSE)

## การมีส่วนร่วม

ยินดีต้อนรับการมีส่วนร่วม! โปรดสั่ง Pull Request ได้เลย

## การสนับสนุน

สำหรับปัญหา คำถาม หรือคำขอคุณสมบัติ โปรด [เปิดประเด็น](../../issues) บน GitHub
